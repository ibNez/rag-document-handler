
# RAG Knowledgebase Manager - Environment Configuration
# Copy this file to .env and customize as needed

# PostgreSQL Database Configuration
POSTGRES_HOST=localhost
POSTGRES_PORT=5432
POSTGRES_DB=rag_metadata
POSTGRES_USER=rag_user
POSTGRES_PASSWORD=secure_password

# Milvus connection settings
MILVUS_HOST=localhost
MILVUS_PORT=19530

# Flask settings
FLASK_HOST=0.0.0.0
FLASK_PORT=3000
FLASK_DEBUG=True
SECRET_KEY=dev-secret-key-change-in-production

# File upload settings
MAX_CONTENT_LENGTH=104857600
UPLOAD_FOLDER=staging
UPLOADED_FOLDER=uploaded
DELETED_FOLDER=deleted
LOG_DIR=logs

# Vector database settings
DOCUMENT_COLLECTION=documents
EMAIL_COLLECTION=emails
VECTOR_DIM=384

# Embedding Model
EMBEDDING_MODEL=mxbai-embed-large
OLLAMA_EMBEDDING_HOST=localhost
OLLAMA_EMBEDDING_PORT=11434
CLASSIFICATION_MODEL=mistral
OLLAMA_CLASSIFICATION_HOST=localhost
OLLAMA_CHAT_HOST=localhost
OLLAMA_PORT=11434
CHAT_MODEL=mistral:latest
CHAT_TEMPERATURE=0.1

# Unstructured chunking
UNSTRUCTURED_CHUNKING_STRATEGY=basic
UNSTRUCTURED_MAX_CHARACTERS=1000
UNSTRUCTURED_OVERLAP=200
UNSTRUCTURED_INCLUDE_ORIG=false

# Milvus flags
MILVUS_DROP_COLLECTION=false

# Crawl settings
CRAWL_MAX_PAGES=50
CRAWL_REQUEST_TIMEOUT=10
CRAWL_USER_AGENT=RAGDocHandlerBot/1.0 (+contact: you@example.com)
CRAWL_DELAY_SECONDS=30.0
CRAWL_JITTER_SECONDS=0.3

# Robots.txt Enforcement Configuration
# Enable or disable robots.txt compliance (use 'false' only for authorized crawling)
RESPECT_ROBOTS_TXT=true
# User agent string for robots.txt compliance and web requests
CRAWLER_USER_AGENT=RAG-Document-Handler/1.0
# Cache TTL for robots.txt files in seconds (3600 = 1 hour)
ROBOTS_CACHE_TTL=3600
# Default delay between requests to same origin in seconds
DEFAULT_CRAWL_DELAY=1.0
# Maximum crawl delay to honor from robots.txt (prevents malicious delays)
MAX_CRAWL_DELAY=30.0
# HTTP request timeout for robots.txt and crawling requests
REQUEST_TIMEOUT=10.0
# Maximum retry attempts for failed HTTP requests
MAX_RETRIES=3

# Scheduler settings
SCHEDULER_POLL_SECONDS_BUSY=10
SCHEDULER_POLL_SECONDS_IDLE=30
URL_DEFAULT_REFRESH_MINUTES=1440

# Email settings
# Symmetric key for encrypting stored email account passwords.
# Generate with: python -c "from cryptography.fernet import Fernet; print(Fernet.generate_key().decode())"
EMAIL_ENCRYPTION_KEY=

# URL Snapshot settings
# Snapshots are always enabled for consistency
# Base directory for storing snapshots (default keeps files under uploaded/)
SNAPSHOT_DIR=./snapshots
# Comma-separated list of formats to capture
SNAPSHOT_FORMATS=pdf,mhtml
# Page load/render timeout in seconds
SNAPSHOT_TIMEOUT_SECONDS=60
